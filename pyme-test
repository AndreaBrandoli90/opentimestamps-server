import sys
from pyme import core, constants
 
# Set up our input and output buffers.
 
plain = core.Data('This is my message.')
cipher = core.Data()
 
# Initialize our context.
 
c = core.Context()
c.set_armor(1)
 
# Set up the recipients.
 
sys.stdout.write("Enter name of your recipient: ")
name = sys.stdin.readline().strip()
c.op_keylist_start(name, 0)
r = c.op_keylist_next()
 
# Do the encryption.
 
c.op_sign([r], 1, plain, cipher)
cipher.seek(0,0)
print cipher.read()
